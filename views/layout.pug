doctype html
html
  head
    // Page title and icons
    title #{APPLICATION_NAME}
    link(rel="icon" href="/images/favicon.ico")
    link(rel="icon" type="image/png" sizes="192x192" href="/images/android-chrome-192x192.png")
    link(rel="icon" type="image/png" sizes="512x512" href="/images/android-chrome-512x512.png")
    link(rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png")
    link(rel="manifest" sizes="180x180" href="/images/site.webmanifest")

    // Meta tags and stylesheets
    meta(charset="utf-8")
    meta(name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no")
    link(href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous")
    link(rel="stylesheet" href="/stylesheets/style.css")

  body(data-bs-theme="light")
    // Navbar with brand and system settings button
    nav.navbar.navbar-expand-md.bg-dark.py-3.sticky-top.navbar-border(data-bs-theme="dark")
      .container
        a.navbar-brand.d-flex.align-items-center(href="/")
          span.bs-icon-sm.bs-icon-rounded.bs-icon-primary.d-flex.justify-content-center.align-items-center.me-2
          span &nbsp;#{APPLICATION_NAME}
        button#system-settings-button.btn.btn-secondary(type='button' data-bs-toggle='modal' data-bs-target='#settingsModal') System Settings

    // System settings modal
    .modal.fade#settingsModal(tabindex='-1' aria-labelledby='settingsModalLabel' aria-hidden='true')
      .modal-dialog.modal-lg
        .modal-content
          .modal-header
            h5#settingsModalLabel.modal-title System Settings
            button.btn-close(type='button' data-bs-dismiss='modal' aria-label='Close')
          .modal-body
            form
              //
                .mb-3
                  label(for='endpoint-selector') Endpoint
                  select#endpoint-selector.form-control
                    option(value='AZURE') Azure
                    option(value='OPENAI') OpenAI
                    option(value='CUSTOM') Custom
                .mb-3(id='custom-endpoint-div')
                  label Custom Endpoint
                  input#custom-endpoint-input.form-control(type='text')
                .mb-3
                  label(for='api-key-input') API Key
                  input#api-key-input.form-control(type='text')
              .mb-3
                label(for='system-message-input') System Message
                textarea#system-message-input.form-control.rows=3
              .mb-3
                label(for='user-message-suffix-input') User Message Suffix
                textarea#user-message-suffix-input.form-control.rows=3
          .modal-footer
            button.btn.btn-danger(type='button' data-bs-dismiss='modal') Close
            button#save-settings-button.btn.btn-primary(type='button') Save

    // Main content block
    block content

    // Bootstrap scripts
    script(src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous")

    // Global variables script
    script.
      var APPLICATION_NAME = "#{APPLICATION_NAME}";

    // Footer with attribution and copyright
    footer.text-center.bg-dark.py-4
      .container.text-white
        p.mb-2 Integrationsseminar zu ausgewählten Themen der Wirtschaftsinformatik @ DHBW Mannheim
        p.mb-0 © #{new Date().getFullYear()} Fabio Sauna, Sebastian Wellmann
